"use strict";(self["webpackChunkforum_front_end_vue"]=self["webpackChunkforum_front_end_vue"]||[]).push([[108],{7630:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container py-5"},[e("NavTabs"),e("div",[e("h1",[t._v(t._s(t.restaurant.name))]),e("span",{staticClass:"badge badge-secondary mt-1 mb-3"},[t._v(" "+t._s(t.restaurant.categoryName)+" ")])]),e("hr"),e("ul",[e("li",[t._v("評論數： "+t._s(t.restaurant.commentsLength))]),e("li",[t._v("瀏覽次數： "+t._s(t.restaurant.viewCounts))])]),e("button",{staticClass:"btn btn-link",attrs:{type:"button"},on:{click:function(e){return t.$router.back()}}},[t._v(" 回上一頁 ")])],1)},r=[],s=(a(1703),a(4839)),o=a(4818),u=a(6163),c={name:"RestaurantDashboard",components:{NavTabs:s.Z},data(){return{restaurant:{id:-1,name:"",categoryName:"",commentsLength:0,viewCounts:0}}},created(){const{id:t}=this.$route.params;this.fetchRestaurant(t)},beforeRouteUpdate(t,e,a){const{id:n}=t.params;this.fetchRestaurant(n),a()},methods:{async fetchRestaurant(t){try{const{data:e}=await o.Z.getRestaurant({restaurantId:t});if("error"===e.status)throw new Error(e.message);const{id:a,name:n,Category:r,Comments:s,viewCounts:u}=e.restaurant;this.restaurant={...this.restaurant,id:a,name:n,categoryName:r?r.name:"未分類",commentsLength:s.length,viewCounts:u}}catch(e){console.error(e.message),u.F.fire({icon:"error",title:"無法載入餐廳資料，請稍後再試"})}}}},i=c,m=a(1001),h=(0,m.Z)(i,n,r,!1,null,null,null),d=h.exports}}]);
//# sourceMappingURL=108.829866be.js.map