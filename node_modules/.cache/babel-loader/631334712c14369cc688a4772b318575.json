{"ast":null,"code":"import NavTabs from \"../components/NavTabs.vue\";\nimport RestaurantCard from \"../components/RestaurantCard.vue\";\nimport RestaurantsNavPills from \"../components/RestaurantsNavPills.vue\";\nimport RestaurantsPagination from \"../components/RestaurantsPagination.vue\";\nimport restaurantsAPI from \"./../apis/restaurants\"; // import { Toast } from \"./../utils/helpers\";\n// const dummyData = {\n//     \"restaurants\": [\n//         {\n//             \"id\": 1,\n//             \"name\": \"Rachelle Smitham\",\n//             \"tel\": \"1-728-825-3321\",\n//             \"address\": \"23371 Glennie Crest\",\n//             \"opening_hours\": \"08:00\",\n//             \"description\": \"quam\",\n//             \"image\": \"https://loremflickr.com/320/240/restaurant,food/?random=45.749222690742755\",\n//             \"viewCounts\": 0,\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"CategoryId\": 1,\n//             \"Category\": {\n//                 \"id\": 1,\n//                 \"name\": \"中式料理\",\n//                 \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//                 \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\n//             },\n//             \"isFavorited\": true,\n//             \"isLiked\": true\n//         },\n//         {\n//             \"id\": 2,\n//             \"name\": \"Kip Mraz\",\n//             \"tel\": \"1-491-096-9606 x09741\",\n//             \"address\": \"4091 Swaniawski Ways\",\n//             \"opening_hours\": \"08:00\",\n//             \"description\": \"Et et et sit cumque neque. Aut voluptate voluptati\",\n//             \"image\": \"https://loremflickr.com/320/240/restaurant,food/?random=80.2771654076752\",\n//             \"viewCounts\": 0,\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"CategoryId\": 1,\n//             \"Category\": {\n//                 \"id\": 1,\n//                 \"name\": \"中式料理\",\n//                 \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//                 \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\n//             },\n//             \"isFavorited\": true,\n//             \"isLiked\": false\n//         },\n//         {\n//             \"id\": 3,\n//             \"name\": \"Estelle Pollich\",\n//             \"tel\": \"189.128.2522 x006\",\n//             \"address\": \"85560 Smitham Pass\",\n//             \"opening_hours\": \"08:00\",\n//             \"description\": \"omnis\",\n//             \"image\": \"https://loremflickr.com/320/240/restaurant,food/?random=98.87743155595174\",\n//             \"viewCounts\": 0,\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"CategoryId\": 2,\n//             \"Category\": {\n//                 \"id\": 2,\n//                 \"name\": \"日本料理\",\n//                 \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//                 \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\n//             },\n//             \"isFavorited\": true,\n//             \"isLiked\": false\n//         },\n//         {\n//             \"id\": 4,\n//             \"name\": \"Euna Lubowitz\",\n//             \"tel\": \"578.852.6637 x1886\",\n//             \"address\": \"4819 Myrtis Rue\",\n//             \"opening_hours\": \"08:00\",\n//             \"description\": \"Ratione et voluptatum aspernatur. Iusto reiciendis\",\n//             \"image\": \"https://loremflickr.com/320/240/restaurant,food/?random=1.7065598034378127\",\n//             \"viewCounts\": 0,\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"CategoryId\": 1,\n//             \"Category\": {\n//                 \"id\": 1,\n//                 \"name\": \"中式料理\",\n//                 \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//                 \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\n//             },\n//             \"isFavorited\": false,\n//             \"isLiked\": false\n//         },\n//         {\n//             \"id\": 5,\n//             \"name\": \"Branson Hickle\",\n//             \"tel\": \"(912) 268-2151 x28057\",\n//             \"address\": \"762 Angelica Meadows\",\n//             \"opening_hours\": \"08:00\",\n//             \"description\": \"autem ut occaecati\",\n//             \"image\": \"https://loremflickr.com/320/240/restaurant,food/?random=6.33461540806961\",\n//             \"viewCounts\": 0,\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"CategoryId\": 1,\n//             \"Category\": {\n//                 \"id\": 1,\n//                 \"name\": \"中式料理\",\n//                 \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//                 \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\n//             },\n//             \"isFavorited\": false,\n//             \"isLiked\": false\n//         },\n//         {\n//             \"id\": 6,\n//             \"name\": \"Jaren Mayert\",\n//             \"tel\": \"1-103-776-9445 x4380\",\n//             \"address\": \"7519 Kuhic Heights\",\n//             \"opening_hours\": \"08:00\",\n//             \"description\": \"et officiis quasi\",\n//             \"image\": \"https://loremflickr.com/320/240/restaurant,food/?random=22.975207973351598\",\n//             \"viewCounts\": 0,\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"CategoryId\": 2,\n//             \"Category\": {\n//                 \"id\": 2,\n//                 \"name\": \"日本料理\",\n//                 \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//                 \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\n//             },\n//             \"isFavorited\": false,\n//             \"isLiked\": false\n//         },\n//         {\n//             \"id\": 7,\n//             \"name\": \"Reina Runolfsdottir I\",\n//             \"tel\": \"1-872-639-7318 x351\",\n//             \"address\": \"25543 Jayce Union\",\n//             \"opening_hours\": \"08:00\",\n//             \"description\": \"officia\",\n//             \"image\": \"https://loremflickr.com/320/240/restaurant,food/?random=68.48190853600143\",\n//             \"viewCounts\": 0,\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"CategoryId\": 2,\n//             \"Category\": {\n//                 \"id\": 2,\n//                 \"name\": \"日本料理\",\n//                 \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//                 \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\n//             },\n//             \"isFavorited\": false,\n//             \"isLiked\": false\n//         },\n//         {\n//             \"id\": 8,\n//             \"name\": \"Candice Armstrong\",\n//             \"tel\": \"298-406-2484 x269\",\n//             \"address\": \"3646 Jace Pass\",\n//             \"opening_hours\": \"08:00\",\n//             \"description\": \"Dicta sunt voluptatem iste est.\",\n//             \"image\": \"https://loremflickr.com/320/240/restaurant,food/?random=39.276070551269896\",\n//             \"viewCounts\": 0,\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"CategoryId\": 1,\n//             \"Category\": {\n//                 \"id\": 1,\n//                 \"name\": \"中式料理\",\n//                 \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//                 \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\n//             },\n//             \"isFavorited\": false,\n//             \"isLiked\": false\n//         },\n//         {\n//             \"id\": 9,\n//             \"name\": \"Betty Howell\",\n//             \"tel\": \"388.237.7245\",\n//             \"address\": \"260 Delphine Stravenue\",\n//             \"opening_hours\": \"08:00\",\n//             \"description\": \"Quidem dolores dolor cumque in. Aliquid hic optio \",\n//             \"image\": \"https://loremflickr.com/320/240/restaurant,food/?random=99.7385085101877\",\n//             \"viewCounts\": 0,\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"CategoryId\": 1,\n//             \"Category\": {\n//                 \"id\": 1,\n//                 \"name\": \"中式料理\",\n//                 \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//                 \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\n//             },\n//             \"isFavorited\": false,\n//             \"isLiked\": false\n//         },\n//         {\n//             \"id\": 10,\n//             \"name\": \"Mrs. Jayce Ondricka\",\n//             \"tel\": \"758-079-3046 x15725\",\n//             \"address\": \"67535 Clare Roads\",\n//             \"opening_hours\": \"08:00\",\n//             \"description\": \"Atque provident repellendus odio earum.\",\n//             \"image\": \"https://loremflickr.com/320/240/restaurant,food/?random=10.563157549316337\",\n//             \"viewCounts\": 0,\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"CategoryId\": 4,\n//             \"Category\": {\n//                 \"id\": 4,\n//                 \"name\": \"墨西哥料理\",\n//                 \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//                 \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\n//             },\n//             \"isFavorited\": false,\n//             \"isLiked\": true\n//         }\n//     ],\n//     \"categories\": [\n//         {\n//             \"id\": 1,\n//             \"name\": \"中式料理\",\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\n//         },\n//         {\n//             \"id\": 2,\n//             \"name\": \"日本料理\",\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\n//         },\n//         {\n//             \"id\": 3,\n//             \"name\": \"義大利料理\",\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\n//         },\n//         {\n//             \"id\": 4,\n//             \"name\": \"墨西哥料理\",\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\n//         },\n//         {\n//             \"id\": 5,\n//             \"name\": \"素食料理\",\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\n//         },\n//         {\n//             \"id\": 6,\n//             \"name\": \"美式料理\",\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\n//         },\n//         {\n//             \"id\": 7,\n//             \"name\": \"複合式料理\",\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\n//         }\n//     ],\n//     \"categoryId\": \"\",\n//     \"page\": 1,\n//     \"totalPage\": [\n//         1,\n//         2,\n//         3,\n//         4,\n//         5\n//     ],\n//     \"prev\": 1,\n//     \"next\": 2\n// };\n\nexport default {\n  components: {\n    NavTabs,\n    RestaurantCard,\n    RestaurantsNavPills,\n    RestaurantsPagination\n  },\n\n  data() {\n    return {\n      restaurants: [],\n      categories: [],\n      categoryId: -1,\n      currentPage: 1,\n      totalPage: [],\n      previousPage: -1,\n      nextPage: -1\n    };\n  },\n\n  created() {\n    //直接輸入時的情境\n    this.fetchRestaurants({\n      page: 1,\n      categoryId: ''\n    }); // const { page = \"\", categoryId = \"\" } = this.$route.query;\n    // this.fetchRestaurants({ queryPage: page, queryCategoryId: categoryId });\n  },\n\n  // beforeRouteUpdate(to, from, next) {     \n  //   //更新菜單的情境\n  //   const { page = \"\", categoryId = \"\" } = to.query;    \n  //   this.fetchRestaurants({ queryPage: page, queryCategoryId: categoryId });\n  //   next();\n  // },\n  methods: {\n    // async fetchRestaurants ({ queryPage, queryCategoryId }) {\n    //   try {\n    //     const response = await restaurantsAPI.getRestaurants({\n    //       page: queryPage,\n    //       categoryId: queryCategoryId\n    //     })\n    //     console.log('response', response)\n    //     // const {\n    //     //   restaurants,\n    //     //   categories,\n    //     //   categoryId,\n    //     //   page,\n    //     //   totalPage,\n    //     //   prev,\n    //     //   next\n    //     // } = response.data\n    //     // this.restaurants = restaurants;\n    //     // this.categories = categories;\n    //     // this.categoryId = categoryId,\n    //     // this.currentPage = page,\n    //     // this.totalPage = totalPage,\n    //     // this.previousPage = prev,\n    //     // this.nextPage = next\n    //   } catch (error) {\n    //     console.log('error', error)\n    //   }\n    // }\n    methods: {\n      async fetchRestaurants({\n        queryPage,\n        queryCategoryId\n      }) {\n        try {\n          const response = await restaurantsAPI.getRestaurants({\n            page: queryPage,\n            categoryId: queryCategoryId\n          }); // STEP 2：透過解構賦值，將所需要的資料從 response.data 取出\n\n          const {\n            restaurants,\n            categories,\n            categoryId,\n            page,\n            totalPage,\n            prev,\n            next\n          } = response.data; // STEP 3：將從伺服器取得的 data 帶入 Vue 內\n\n          this.restaurants = restaurants;\n          this.categories = categories;\n          this.categoryId = categoryId;\n          this.currentPage = page;\n          this.totalPage = totalPage;\n          this.previousPage = prev;\n          this.nextPage = next;\n        } catch (error) {\n          console.log('error', error);\n        }\n      } //   const {restaurants, categories,categoryId,page, totalPage, prev,next} = dummyData;\n      // async fetchRestaurants({ queryPage, queryCategoryId }) {\n      //   try {\n      //     const response = await restaurantsAPI.getRestaurants({\n      //       page: queryPage,\n      //       categoryId: queryCategoryId,\n      //     });\n      //     console.log(response)\n      //     const {\n      //       restaurants,\n      //       categories,\n      //       categoryId,\n      //       page,\n      //       totalPage,\n      //       prev,\n      //       next,\n      //     } = response.data;\n      //     this.restaurants = restaurants;\n      //     this.categories = categories;\n      //     this.categoryId = categoryId;\n      //     this.currentPage = page;\n      //     this.totalPage = totalPage;\n      //     this.previousPage = prev;\n      //     this.nextPage = next;\n      //   } catch (error) {\n      //     console.log(\"error\", error);\n      //     Toast.fire({\n      //       icon: \"error\",\n      //       title: \"無法取得餐廳資料，請稍後再試\",\n      //     });\n      //   }\n      // },\n\n\n    }\n  }\n};","map":{"version":3,"mappings":"AA+BA;AACA;AACA;AACA;AACA,mD,CACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;EACAA;IACAC,OADA;IAEAC,cAFA;IAGAC,mBAHA;IAIAC;EAJA,CADA;;EAQAC;IACA;MACAC,eADA;MAEAC,cAFA;MAGAC,cAHA;MAIAC,cAJA;MAKAC,aALA;MAMAC,gBANA;MAOAC;IAPA;EASA,CAlBA;;EAmBAC;IACA;IACA;MAAAC;MAAAN;IAAA,GAFA,CAGA;IACA;EACA,CAxBA;;EAyBA;EACA;EACA;EACA;EACA;EACA;EACAO;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACAA;MACA;QAAAC;QAAAC;MAAA;QACA;UACA;YACAH,eADA;YAEAN;UAFA,GADA,CAMA;;UACA;YACAF,WADA;YAEAC,UAFA;YAGAC,UAHA;YAIAM,IAJA;YAKAJ,SALA;YAMAQ,IANA;YAOAC;UAPA,IAQAC,aARA,CAPA,CAiBA;;UACA;UACA;UACA;UACA;UACA;UACA;UACA;QAEA,CA1BA,CA0BA;UACAC;QACA;MACA,CA/BA,CAoCA;MAIA;MACA;MACA;MACA;MACA;MACA;MAEA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;;IAzEA;EA/BA;AA/BA","names":["components","NavTabs","RestaurantCard","RestaurantsNavPills","RestaurantsPagination","data","restaurants","categories","categoryId","currentPage","totalPage","previousPage","nextPage","created","page","methods","queryPage","queryCategoryId","prev","next","response","console"],"sourceRoot":"src/views","sources":["RestaurantS.vue"],"sourcesContent":["<template>\r\n  <div class=\"container py-5\">\r\n    <NavTabs />\r\n    <!-- 餐廳類別標籤 RestaurantsNavPills -->\r\n    <RestaurantsNavPills :categories=\"categories\" />\r\n\r\n    <div class=\"row\">\r\n      <!-- 餐廳卡片 RestaurantCard-->\r\n      <RestaurantCard\r\n        v-for=\"restaurant in restaurants\"\r\n        :key=\"restaurant.id\"\r\n        :initial-restaurant=\"restaurant\"\r\n      />\r\n    </div>\r\n\r\n    <!-- 分頁標籤 RestaurantPagination -->\r\n    <RestaurantsPagination\r\n      v-if=\"totalPage.length > 1\"\r\n      :current-page=\"currentPage\"\r\n      :total-page=\"totalPage\"\r\n      :category-id=\"categoryId\"\r\n      :previous-page=\"previousPage\"\r\n      :next-page=\"nextPage\"      \r\n    />\r\n    <div v-if=\"restaurants.length < 1\">\r\n      此類別目前無餐廳資料   \r\n    </div>\r\n  </div> \r\n</template>\r\n\r\n<script>\r\nimport NavTabs from \"../components/NavTabs.vue\";\r\nimport RestaurantCard from \"../components/RestaurantCard.vue\";\r\nimport RestaurantsNavPills from \"../components/RestaurantsNavPills.vue\";\r\nimport RestaurantsPagination from \"../components/RestaurantsPagination.vue\";\r\nimport restaurantsAPI from \"./../apis/restaurants\";\r\n// import { Toast } from \"./../utils/helpers\";\r\n\r\n// const dummyData = {\r\n//     \"restaurants\": [\r\n//         {\r\n//             \"id\": 1,\r\n//             \"name\": \"Rachelle Smitham\",\r\n//             \"tel\": \"1-728-825-3321\",\r\n//             \"address\": \"23371 Glennie Crest\",\r\n//             \"opening_hours\": \"08:00\",\r\n//             \"description\": \"quam\",\r\n//             \"image\": \"https://loremflickr.com/320/240/restaurant,food/?random=45.749222690742755\",\r\n//             \"viewCounts\": 0,\r\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"CategoryId\": 1,\r\n//             \"Category\": {\r\n//                 \"id\": 1,\r\n//                 \"name\": \"中式料理\",\r\n//                 \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//                 \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\r\n//             },\r\n//             \"isFavorited\": true,\r\n//             \"isLiked\": true\r\n//         },\r\n//         {\r\n//             \"id\": 2,\r\n//             \"name\": \"Kip Mraz\",\r\n//             \"tel\": \"1-491-096-9606 x09741\",\r\n//             \"address\": \"4091 Swaniawski Ways\",\r\n//             \"opening_hours\": \"08:00\",\r\n//             \"description\": \"Et et et sit cumque neque. Aut voluptate voluptati\",\r\n//             \"image\": \"https://loremflickr.com/320/240/restaurant,food/?random=80.2771654076752\",\r\n//             \"viewCounts\": 0,\r\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"CategoryId\": 1,\r\n//             \"Category\": {\r\n//                 \"id\": 1,\r\n//                 \"name\": \"中式料理\",\r\n//                 \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//                 \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\r\n//             },\r\n//             \"isFavorited\": true,\r\n//             \"isLiked\": false\r\n//         },\r\n//         {\r\n//             \"id\": 3,\r\n//             \"name\": \"Estelle Pollich\",\r\n//             \"tel\": \"189.128.2522 x006\",\r\n//             \"address\": \"85560 Smitham Pass\",\r\n//             \"opening_hours\": \"08:00\",\r\n//             \"description\": \"omnis\",\r\n//             \"image\": \"https://loremflickr.com/320/240/restaurant,food/?random=98.87743155595174\",\r\n//             \"viewCounts\": 0,\r\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"CategoryId\": 2,\r\n//             \"Category\": {\r\n//                 \"id\": 2,\r\n//                 \"name\": \"日本料理\",\r\n//                 \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//                 \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\r\n//             },\r\n//             \"isFavorited\": true,\r\n//             \"isLiked\": false\r\n//         },\r\n//         {\r\n//             \"id\": 4,\r\n//             \"name\": \"Euna Lubowitz\",\r\n//             \"tel\": \"578.852.6637 x1886\",\r\n//             \"address\": \"4819 Myrtis Rue\",\r\n//             \"opening_hours\": \"08:00\",\r\n//             \"description\": \"Ratione et voluptatum aspernatur. Iusto reiciendis\",\r\n//             \"image\": \"https://loremflickr.com/320/240/restaurant,food/?random=1.7065598034378127\",\r\n//             \"viewCounts\": 0,\r\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"CategoryId\": 1,\r\n//             \"Category\": {\r\n//                 \"id\": 1,\r\n//                 \"name\": \"中式料理\",\r\n//                 \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//                 \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\r\n//             },\r\n//             \"isFavorited\": false,\r\n//             \"isLiked\": false\r\n//         },\r\n//         {\r\n//             \"id\": 5,\r\n//             \"name\": \"Branson Hickle\",\r\n//             \"tel\": \"(912) 268-2151 x28057\",\r\n//             \"address\": \"762 Angelica Meadows\",\r\n//             \"opening_hours\": \"08:00\",\r\n//             \"description\": \"autem ut occaecati\",\r\n//             \"image\": \"https://loremflickr.com/320/240/restaurant,food/?random=6.33461540806961\",\r\n//             \"viewCounts\": 0,\r\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"CategoryId\": 1,\r\n//             \"Category\": {\r\n//                 \"id\": 1,\r\n//                 \"name\": \"中式料理\",\r\n//                 \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//                 \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\r\n//             },\r\n//             \"isFavorited\": false,\r\n//             \"isLiked\": false\r\n//         },\r\n//         {\r\n//             \"id\": 6,\r\n//             \"name\": \"Jaren Mayert\",\r\n//             \"tel\": \"1-103-776-9445 x4380\",\r\n//             \"address\": \"7519 Kuhic Heights\",\r\n//             \"opening_hours\": \"08:00\",\r\n//             \"description\": \"et officiis quasi\",\r\n//             \"image\": \"https://loremflickr.com/320/240/restaurant,food/?random=22.975207973351598\",\r\n//             \"viewCounts\": 0,\r\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"CategoryId\": 2,\r\n//             \"Category\": {\r\n//                 \"id\": 2,\r\n//                 \"name\": \"日本料理\",\r\n//                 \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//                 \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\r\n//             },\r\n//             \"isFavorited\": false,\r\n//             \"isLiked\": false\r\n//         },\r\n//         {\r\n//             \"id\": 7,\r\n//             \"name\": \"Reina Runolfsdottir I\",\r\n//             \"tel\": \"1-872-639-7318 x351\",\r\n//             \"address\": \"25543 Jayce Union\",\r\n//             \"opening_hours\": \"08:00\",\r\n//             \"description\": \"officia\",\r\n//             \"image\": \"https://loremflickr.com/320/240/restaurant,food/?random=68.48190853600143\",\r\n//             \"viewCounts\": 0,\r\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"CategoryId\": 2,\r\n//             \"Category\": {\r\n//                 \"id\": 2,\r\n//                 \"name\": \"日本料理\",\r\n//                 \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//                 \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\r\n//             },\r\n//             \"isFavorited\": false,\r\n//             \"isLiked\": false\r\n//         },\r\n//         {\r\n//             \"id\": 8,\r\n//             \"name\": \"Candice Armstrong\",\r\n//             \"tel\": \"298-406-2484 x269\",\r\n//             \"address\": \"3646 Jace Pass\",\r\n//             \"opening_hours\": \"08:00\",\r\n//             \"description\": \"Dicta sunt voluptatem iste est.\",\r\n//             \"image\": \"https://loremflickr.com/320/240/restaurant,food/?random=39.276070551269896\",\r\n//             \"viewCounts\": 0,\r\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"CategoryId\": 1,\r\n//             \"Category\": {\r\n//                 \"id\": 1,\r\n//                 \"name\": \"中式料理\",\r\n//                 \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//                 \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\r\n//             },\r\n//             \"isFavorited\": false,\r\n//             \"isLiked\": false\r\n//         },\r\n//         {\r\n//             \"id\": 9,\r\n//             \"name\": \"Betty Howell\",\r\n//             \"tel\": \"388.237.7245\",\r\n//             \"address\": \"260 Delphine Stravenue\",\r\n//             \"opening_hours\": \"08:00\",\r\n//             \"description\": \"Quidem dolores dolor cumque in. Aliquid hic optio \",\r\n//             \"image\": \"https://loremflickr.com/320/240/restaurant,food/?random=99.7385085101877\",\r\n//             \"viewCounts\": 0,\r\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"CategoryId\": 1,\r\n//             \"Category\": {\r\n//                 \"id\": 1,\r\n//                 \"name\": \"中式料理\",\r\n//                 \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//                 \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\r\n//             },\r\n//             \"isFavorited\": false,\r\n//             \"isLiked\": false\r\n//         },\r\n//         {\r\n//             \"id\": 10,\r\n//             \"name\": \"Mrs. Jayce Ondricka\",\r\n//             \"tel\": \"758-079-3046 x15725\",\r\n//             \"address\": \"67535 Clare Roads\",\r\n//             \"opening_hours\": \"08:00\",\r\n//             \"description\": \"Atque provident repellendus odio earum.\",\r\n//             \"image\": \"https://loremflickr.com/320/240/restaurant,food/?random=10.563157549316337\",\r\n//             \"viewCounts\": 0,\r\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"CategoryId\": 4,\r\n//             \"Category\": {\r\n//                 \"id\": 4,\r\n//                 \"name\": \"墨西哥料理\",\r\n//                 \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//                 \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\r\n//             },\r\n//             \"isFavorited\": false,\r\n//             \"isLiked\": true\r\n//         }\r\n//     ],\r\n//     \"categories\": [\r\n//         {\r\n//             \"id\": 1,\r\n//             \"name\": \"中式料理\",\r\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\r\n//         },\r\n//         {\r\n//             \"id\": 2,\r\n//             \"name\": \"日本料理\",\r\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\r\n//         },\r\n//         {\r\n//             \"id\": 3,\r\n//             \"name\": \"義大利料理\",\r\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\r\n//         },\r\n//         {\r\n//             \"id\": 4,\r\n//             \"name\": \"墨西哥料理\",\r\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\r\n//         },\r\n//         {\r\n//             \"id\": 5,\r\n//             \"name\": \"素食料理\",\r\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\r\n//         },\r\n//         {\r\n//             \"id\": 6,\r\n//             \"name\": \"美式料理\",\r\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\r\n//         },\r\n//         {\r\n//             \"id\": 7,\r\n//             \"name\": \"複合式料理\",\r\n//             \"createdAt\": \"2022-07-05T06:24:58.000Z\",\r\n//             \"updatedAt\": \"2022-07-05T06:24:58.000Z\"\r\n//         }\r\n//     ],\r\n//     \"categoryId\": \"\",\r\n//     \"page\": 1,\r\n//     \"totalPage\": [\r\n//         1,\r\n//         2,\r\n//         3,\r\n//         4,\r\n//         5\r\n//     ],\r\n//     \"prev\": 1,\r\n//     \"next\": 2\r\n// };\r\n\r\nexport default {\r\n  components: {\r\n    NavTabs,\r\n    RestaurantCard,\r\n    RestaurantsNavPills,\r\n    RestaurantsPagination,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      restaurants: [],\r\n      categories: [],\r\n      categoryId: -1,\r\n      currentPage: 1,\r\n      totalPage: [],\r\n      previousPage: -1,\r\n      nextPage: -1,\r\n    };\r\n  },  \r\n  created() {\r\n    //直接輸入時的情境\r\n    this.fetchRestaurants({page: 1, categoryId:''})\r\n    // const { page = \"\", categoryId = \"\" } = this.$route.query;\r\n    // this.fetchRestaurants({ queryPage: page, queryCategoryId: categoryId });\r\n  },\r\n  // beforeRouteUpdate(to, from, next) {     \r\n  //   //更新菜單的情境\r\n  //   const { page = \"\", categoryId = \"\" } = to.query;    \r\n  //   this.fetchRestaurants({ queryPage: page, queryCategoryId: categoryId });\r\n  //   next();\r\n  // },\r\n  methods: {\r\n    // async fetchRestaurants ({ queryPage, queryCategoryId }) {\r\n    //   try {\r\n    //     const response = await restaurantsAPI.getRestaurants({\r\n    //       page: queryPage,\r\n    //       categoryId: queryCategoryId\r\n    //     })\r\n    //     console.log('response', response)\r\n\r\n    //     // const {\r\n    //     //   restaurants,\r\n    //     //   categories,\r\n    //     //   categoryId,\r\n    //     //   page,\r\n    //     //   totalPage,\r\n    //     //   prev,\r\n    //     //   next\r\n    //     // } = response.data\r\n\r\n    //     // this.restaurants = restaurants;\r\n    //     // this.categories = categories;\r\n    //     // this.categoryId = categoryId,\r\n    //     // this.currentPage = page,\r\n    //     // this.totalPage = totalPage,\r\n    //     // this.previousPage = prev,\r\n    //     // this.nextPage = next\r\n\r\n    //   } catch (error) {\r\n    //     console.log('error', error)\r\n    //   }\r\n    // }\r\n    methods: {\r\n    async fetchRestaurants ({ queryPage, queryCategoryId }) {\r\n      try {\r\n        const response = await restaurantsAPI.getRestaurants({\r\n          page: queryPage,\r\n          categoryId: queryCategoryId\r\n        })\r\n\r\n        // STEP 2：透過解構賦值，將所需要的資料從 response.data 取出\r\n        const {\r\n          restaurants,\r\n          categories,\r\n          categoryId,\r\n          page,\r\n          totalPage,\r\n          prev,\r\n          next\r\n        } = response.data\r\n\r\n        // STEP 3：將從伺服器取得的 data 帶入 Vue 內\r\n        this.restaurants = restaurants\r\n        this.categories = categories\r\n        this.categoryId = categoryId\r\n        this.currentPage = page\r\n        this.totalPage = totalPage\r\n        this.previousPage = prev\r\n        this.nextPage = next\r\n\r\n      } catch (error) {\r\n        console.log('error', error)\r\n      }\r\n    }\r\n  \r\n\r\n\r\n\r\n    //   const {restaurants, categories,categoryId,page, totalPage, prev,next} = dummyData;\r\n\r\n\r\n    \r\n    // async fetchRestaurants({ queryPage, queryCategoryId }) {\r\n    //   try {\r\n    //     const response = await restaurantsAPI.getRestaurants({\r\n    //       page: queryPage,\r\n    //       categoryId: queryCategoryId,\r\n    //     });\r\n\r\n    //     console.log(response)\r\n\r\n    //     const {\r\n    //       restaurants,\r\n    //       categories,\r\n    //       categoryId,\r\n    //       page,\r\n    //       totalPage,\r\n    //       prev,\r\n    //       next,\r\n    //     } = response.data;\r\n\r\n    //     this.restaurants = restaurants;\r\n    //     this.categories = categories;\r\n    //     this.categoryId = categoryId;\r\n    //     this.currentPage = page;\r\n    //     this.totalPage = totalPage;\r\n    //     this.previousPage = prev;\r\n    //     this.nextPage = next;\r\n    //   } catch (error) {\r\n    //     console.log(\"error\", error);\r\n    //     Toast.fire({\r\n    //       icon: \"error\",\r\n    //       title: \"無法取得餐廳資料，請稍後再試\",\r\n    //     });\r\n    //   }\r\n    // },\r\n    }\r\n}\r\n};\r\n</script>"]},"metadata":{},"sourceType":"module"}