{"ast":null,"code":"import { emptyImageFilter } from \"./../utils/mixins\";\nimport admin from './../apis/admin';\nimport { Toast } from \"./../utils/helpers\";\nconst dummyData = {\n  restaurant: {\n    id: 2,\n    name: 'Mrs. Mckenzie Johnston',\n    tel: '567-714-6131 x621',\n    address: '61371 Rosalinda Knoll',\n    opening_hours: '08:00',\n    description: 'Quia pariatur perferendis architecto tenetur omnis pariatur tempore.',\n    image: 'https://loremflickr.com/320/240/food,dessert,restaurant/?random=2',\n    createdAt: '2019-06-22T09:00:43.000Z',\n    updatedAt: '2019-06-22T09:00:43.000Z',\n    CategoryId: 3,\n    Category: {\n      id: 3,\n      name: '義大利料理',\n      createdAt: '2019-06-22T09:00:43.000Z',\n      updatedAt: '2019-06-22T09:00:43.000Z'\n    }\n  }\n};\nexport default {\n  name: \"AdminRestaurant\",\n  mixins: [emptyImageFilter],\n\n  data() {\n    return {\n      restaurant: {\n        id: -1,\n        name: \"\",\n        categoryName: \"\",\n        image: \"\",\n        openingHours: \"\",\n        tel: \"\",\n        address: \"\",\n        description: \"\"\n      }\n    };\n  },\n\n  mounted() {\n    const {\n      id: restaurantId\n    } = this.$route.params;\n    this.fetchRestaurant(restaurantId);\n  },\n\n  //加了這就可以直接輸入網址變化 如果沒放就無法\n  // beforeRouteUpdate (to, from, next) {\n  //   const { id } = to.params\n  //   this.fetchRestaurant(id)\n  //   next()\n  // },  \n  methods: {\n    async fetchRestaurant(restaurantId) {\n      try {} catch (error) {}\n\n      this.restaurant = {\n        id: restaurant.id,\n        name: restaurant.name,\n        categoryName: restaurant.Category.name,\n        image: restaurant.image,\n        openingHours: restaurant.opening_hours,\n        tel: restaurant.tel,\n        address: restaurant.address,\n        description: restaurant.description\n      };\n    } // async fetchRestaurant(restaurantId) {\n    //   try {\n    //     const {data} = await admin.restaurants.getDetail({restaurantId})\n    //     this.restaurant = {\n    //       ...this.restaurant,\n    //       id: data.restaurant.id,\n    //       name: data.restaurant.name,\n    //       categoryName: data.restaurant.Category? data.restaurant.Category.name : '未分類',\n    //       image: data.restaurant.image,\n    //       openingHours: data.restaurant.opening_hours,\n    //       tel: data.restaurant.tel,\n    //       address: data.restaurant.address,\n    //       description: data.restaurant.description,\n    //     }\n    //   } catch(error) {\n    //     Toast.fire({\n    //     icon: \"error\",\n    //     title: \"無法取得餐廳明細，請稍後再試\",\n    //   });\n    //   }       \n    // },\n    // }\n\n\n  }\n};","map":{"version":3,"mappings":"AA2CA;AACA;AACA;AAEA;EACAA;IACAC,KADA;IAEAC,8BAFA;IAGAC,wBAHA;IAIAC,gCAJA;IAKAC,sBALA;IAMAC,aACA,sEAPA;IAQAC,0EARA;IASAC,qCATA;IAUAC,qCAVA;IAWAC,aAXA;IAYAC;MACAV,KADA;MAEAC,aAFA;MAGAM,qCAHA;MAIAC;IAJA;EAZA;AADA;AAsBA;EACAP,uBADA;EAEAU,0BAFA;;EAGAC;IACA;MACAb;QACAC,MADA;QAEAC,QAFA;QAGAY,gBAHA;QAIAP,SAJA;QAKAQ,gBALA;QAMAZ,OANA;QAOAC,WAPA;QAQAE;MARA;IADA;EAYA,CAhBA;;EAiBAU;IACA;MAAAf;IAAA;IACA;EACA,CApBA;;EAqBA;EACA;EACA;EACA;EACA;EACA;EACAgB;IACA;MACA,KAEA,CAFA,CAEA,eAEA;;MAEA;QAEAhB,iBAFA;QAGAC,qBAHA;QAIAY,sCAJA;QAKAP,uBALA;QAMAQ,sCANA;QAOAZ,mBAPA;QAQAC,2BARA;QASAE;MATA;IAWA,CAnBA,CAqBA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;;EA1CA;AA3BA","names":["restaurant","id","name","tel","address","opening_hours","description","image","createdAt","updatedAt","CategoryId","Category","mixins","data","categoryName","openingHours","mounted","methods"],"sourceRoot":"src/views","sources":["AdminRestaurant.vue"],"sourcesContent":["<template>\r\n  <div class=\"container py-5\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <h1>{{ restaurant.name }}</h1>\r\n        <span class=\"badge badge-secondary mt-1 mb-3\">\r\n          {{ restaurant.categoryName }}\r\n        </span>\r\n      </div>\r\n      <div class=\"col-md-4\">\r\n        <img\r\n          class=\"img-responsive center-block\"\r\n          :src=\"restaurant.image | emptyImage\"\r\n          style=\"width: 250px; margin-bottom: 25px\"\r\n        />\r\n        <div class=\"well\">\r\n          <ul class=\"list-unstyled\">\r\n            <li>\r\n              <strong>Opening Hour:</strong>\r\n              {{ restaurant.openingHours }}\r\n            </li>\r\n            <li>\r\n              <strong>Tel:</strong>\r\n              {{ restaurant.tel }}\r\n            </li>\r\n            <li>\r\n              <strong>Address:</strong>\r\n              {{ restaurant.address }}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-md-8\">\r\n        <p>{{ restaurant.description }}</p>\r\n      </div>\r\n    </div>\r\n    <hr />\r\n    <button type=\"button\" class=\"btn btn-link\" @click=\"$router.back()\">\r\n      回上一頁\r\n    </button>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { emptyImageFilter } from \"./../utils/mixins\";\r\nimport admin from './../apis/admin';\r\nimport { Toast } from \"./../utils/helpers\";\r\n\r\nconst dummyData = {\r\n  restaurant: {\r\n    id: 2,\r\n    name: 'Mrs. Mckenzie Johnston',\r\n    tel: '567-714-6131 x621',\r\n    address: '61371 Rosalinda Knoll',\r\n    opening_hours: '08:00',\r\n    description:\r\n      'Quia pariatur perferendis architecto tenetur omnis pariatur tempore.',\r\n    image: 'https://loremflickr.com/320/240/food,dessert,restaurant/?random=2',\r\n    createdAt: '2019-06-22T09:00:43.000Z',\r\n    updatedAt: '2019-06-22T09:00:43.000Z',\r\n    CategoryId: 3,\r\n    Category: {\r\n      id: 3,\r\n      name: '義大利料理',\r\n      createdAt: '2019-06-22T09:00:43.000Z',\r\n      updatedAt: '2019-06-22T09:00:43.000Z'\r\n    }\r\n  }\r\n}\r\n\r\nexport default {\r\n  name: \"AdminRestaurant\",\r\n  mixins: [emptyImageFilter],\r\n  data() {\r\n    return {\r\n      restaurant: {\r\n        id: -1,\r\n        name: \"\",\r\n        categoryName: \"\",\r\n        image: \"\",\r\n        openingHours: \"\",\r\n        tel: \"\",\r\n        address: \"\",\r\n        description: \"\",\r\n      },\r\n    };\r\n  },\r\n  mounted() {\r\n    const { id: restaurantId } = this.$route.params;\r\n    this.fetchRestaurant(restaurantId);    \r\n  },\r\n  //加了這就可以直接輸入網址變化 如果沒放就無法\r\n  // beforeRouteUpdate (to, from, next) {\r\n  //   const { id } = to.params\r\n  //   this.fetchRestaurant(id)\r\n  //   next()\r\n  // },  \r\n  methods: {\r\n    async fetchRestaurant (restaurantId) {\r\n      try {\r\n\r\n      } catch (error) {\r\n\r\n      }\r\n      \r\n      this.restaurant = {\r\n        \r\n        id: restaurant.id,\r\n        name: restaurant.name,\r\n        categoryName: restaurant.Category.name,\r\n        image: restaurant.image,\r\n        openingHours: restaurant.opening_hours,\r\n        tel: restaurant.tel,\r\n        address: restaurant.address,\r\n        description: restaurant.description\r\n      }\r\n    }\r\n\r\n    // async fetchRestaurant(restaurantId) {\r\n    //   try {\r\n    //     const {data} = await admin.restaurants.getDetail({restaurantId})\r\n    //     this.restaurant = {\r\n    //       ...this.restaurant,\r\n    //       id: data.restaurant.id,\r\n    //       name: data.restaurant.name,\r\n    //       categoryName: data.restaurant.Category? data.restaurant.Category.name : '未分類',\r\n    //       image: data.restaurant.image,\r\n    //       openingHours: data.restaurant.opening_hours,\r\n    //       tel: data.restaurant.tel,\r\n    //       address: data.restaurant.address,\r\n    //       description: data.restaurant.description,\r\n    //     }\r\n    //   } catch(error) {\r\n    //     Toast.fire({\r\n    //     icon: \"error\",\r\n    //     title: \"無法取得餐廳明細，請稍後再試\",\r\n    //   });\r\n    //   }       \r\n    // },\r\n    // }\r\n  }\r\n}\r\n</script>"]},"metadata":{},"sourceType":"module"}