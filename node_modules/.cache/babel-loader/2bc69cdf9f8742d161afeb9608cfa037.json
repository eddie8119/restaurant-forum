{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport AdminRestaurantForm from \"./../components/AdminRestaurantForm.vue\";\nimport adminAPI from \"./../apis/admin\";\nimport { Toast } from \"./../utils/helpers\";\nexport default {\n  components: {\n    AdminRestaurantForm\n  },\n\n  data() {\n    return {\n      isProcessing: false\n    };\n  },\n\n  methods: {\n    async handleAfterSubmit(formData) {\n      try {\n        // STEP 3: 透過 restaurants.create 方法來向伺服器建立餐廳\n        const {\n          data\n        } = await adminAPI.restaurants.create({\n          formData\n        });\n\n        if (data.status === 'error') {\n          throw new Error(data.message);\n        } // STEP 4: 成功的話則轉址到 `/admin/restaurants`\n\n\n        this.$router.push({\n          name: 'admin-restaurants'\n        });\n      } catch (error) {\n        // STEP 5: 錯誤處理\n        Toast.fire({\n          icon: 'error',\n          title: '無法建立餐廳，請稍後再試'\n        });\n      }\n    } // async handleAfterSubmit(formData) {\n    //   try {\n    //     this.isProcessing = true\n    //     const { data } = await adminAPI.restaurants.create({\n    //       formData\n    //     })\n    //     if (data.status === 'error') {\n    //       throw new Error(data.message)\n    //     }\n    //     // STEP 4: 成功的話則轉址到 `/admin/restaurants`\n    //     this.$router.push({ name: 'admin-restaurants' })\n    //   } catch(error) {\n    //     this.isProcessing = false\n    //     Toast.fire({\n    //           icon:'error',\n    //           title:'無法建立餐廳，請稍後再試'\n    //       })\n    //   }\n    // }\n    // async handleAfterSubmit(formData) {\n    //   try {\n    //     this.isProcessing = true;\n    //     // STEP 3: 透過 restaurants.create 方法來向伺服器建立餐廳\n    //     const { data } = await adminAPI.restaurants.create({\n    //       formData,\n    //     });\n    //     if (data.status !== \"success\") {\n    //       throw new Error(data.message);\n    //     }\n    //     // STEP 4: 成功的話則轉址到 `/admin/restaurants`\n    //     this.$router.push({ name: \"admin-restaurants\" });\n    //   } catch (error) {\n    //     this.isProcessing = false;\n    //     Toast.fire({\n    //       icon: \"error\",\n    //       title: \"無法建立餐廳，請稍後再試\",\n    //     });\n    //   }\n    // },\n\n\n  }\n};","map":{"version":3,"mappings":";AAWA;AACA;AACA;AAEA;EACAA;IACAC;EADA,CADA;;EAIAC;IACA;MACAC;IADA;EAGA,CARA;;EASAC;IACA;MACA;QACA;QACA;UAAAF;QAAA;UACAG;QADA;;QAIA;UACA;QACA,CARA,CAUA;;;QACA;UAAAC;QAAA;MACA,CAZA,CAYA;QACA;QACAC;UACAC,aADA;UAEAC;QAFA;MAIA;IAEA,CAtBA,CAuBA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;;EAjEA;AATA","names":["components","AdminRestaurantForm","data","isProcessing","methods","formData","name","Toast","icon","title"],"sourceRoot":"src/views","sources":["AdminRestaurantNew.vue"],"sourcesContent":["<template>\r\n  <div class=\"container py-5\">\r\n    <!-- 餐廳表單 AdminRestaurantForm -->\r\n    <AdminRestaurantForm \r\n      :is-processing=\"isProcessing\" \r\n      @after-submit=\"handleAfterSubmit\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AdminRestaurantForm from \"./../components/AdminRestaurantForm.vue\";\r\nimport adminAPI from \"./../apis/admin\";\r\nimport { Toast } from \"./../utils/helpers\";\r\n\r\nexport default {\r\n  components: {\r\n    AdminRestaurantForm,\r\n  },\r\n  data() {\r\n    return {\r\n      isProcessing: false,\r\n    };\r\n  },\r\n  methods: {\r\n    async handleAfterSubmit(formData) {\r\n      try {\r\n        // STEP 3: 透過 restaurants.create 方法來向伺服器建立餐廳\r\n        const { data } = await adminAPI.restaurants.create({\r\n          formData\r\n        })\r\n\r\n        if (data.status === 'error') {\r\n          throw new Error(data.message)\r\n        }\r\n\r\n        // STEP 4: 成功的話則轉址到 `/admin/restaurants`\r\n        this.$router.push({ name: 'admin-restaurants' })\r\n      } catch (error) {\r\n        // STEP 5: 錯誤處理\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '無法建立餐廳，請稍後再試'\r\n        })\r\n      }\r\n\r\n    }\r\n    // async handleAfterSubmit(formData) {\r\n    //   try {\r\n    //     this.isProcessing = true\r\n    //     const { data } = await adminAPI.restaurants.create({\r\n    //       formData\r\n    //     })\r\n\r\n    //     if (data.status === 'error') {\r\n    //       throw new Error(data.message)\r\n    //     }\r\n\r\n    //     // STEP 4: 成功的話則轉址到 `/admin/restaurants`\r\n    //     this.$router.push({ name: 'admin-restaurants' })\r\n    //   } catch(error) {\r\n    //     this.isProcessing = false\r\n    //     Toast.fire({\r\n    //           icon:'error',\r\n    //           title:'無法建立餐廳，請稍後再試'\r\n    //       })\r\n    //   }\r\n    // }\r\n    // async handleAfterSubmit(formData) {\r\n    //   try {\r\n    //     this.isProcessing = true;\r\n    //     // STEP 3: 透過 restaurants.create 方法來向伺服器建立餐廳\r\n    //     const { data } = await adminAPI.restaurants.create({\r\n    //       formData,\r\n    //     });\r\n\r\n    //     if (data.status !== \"success\") {\r\n    //       throw new Error(data.message);\r\n    //     }\r\n\r\n    //     // STEP 4: 成功的話則轉址到 `/admin/restaurants`\r\n    //     this.$router.push({ name: \"admin-restaurants\" });\r\n    //   } catch (error) {\r\n    //     this.isProcessing = false;\r\n    //     Toast.fire({\r\n    //       icon: \"error\",\r\n    //       title: \"無法建立餐廳，請稍後再試\",\r\n    //     });\r\n    //   }\r\n    // },\r\n  },\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}