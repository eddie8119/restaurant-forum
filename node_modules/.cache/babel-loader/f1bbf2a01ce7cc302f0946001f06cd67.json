{"ast":null,"code":"import AdminNav from \"@/components/AdminNav\";\nimport adminAPI from './../apis/admin';\nimport { Toast } from './../utils/helpers';\nexport default {\n  name: \"AdminCategories\",\n  components: {\n    AdminNav\n  },\n\n  data() {\n    return {\n      categories: [],\n      newCategoryName: \"\"\n    };\n  },\n\n  created() {\n    this.fetchCategories();\n  },\n\n  methods: {\n    async fetchCategories() {\n      try {\n        const {\n          data\n        } = await adminAPI.Categories.get();\n        this.categories = data.categories;\n      } catch (error) {\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法取得人氣餐廳資料，請稍後再試\"\n        });\n      }\n    },\n\n    async\n  } // methods: {\n  //   // 4. 定義 `fetchCategories` 方法，把 `dummyData` 帶入 Vue 物件\n  //   fetchCategories() {\n  //     this.categories = dummyData.categories;\n  //   },\n  //   creatCategory() {\n  //     this.categories.push({\n  //       id: uuidv4(),\n  //       name: this.newCategoryName,\n  //     });\n  //     this.newCategoryName = \"\";\n  //   },\n  //   deleteCategory(categoryId) {\n  //     this.categories = this.categories.filter(\n  //       (category) => category.id !== categoryId\n  //     );\n  //   },\n  // },\n\n};","map":{"version":3,"mappings":"AA0DA;AACA;AACA;AAEA;EACAA,uBADA;EAEAC;IACAC;EADA,CAFA;;EAKAC;IACA;MACAC,cADA;MAEAC;IAFA;EAIA,CAVA;;EAWAC;IACA;EACA,CAbA;;EAcAC;IACA;MACA;QACA;UAAAJ;QAAA;QACA;MACA,CAHA,CAGA;QACAK;UACAC,aADA;UAEAC;QAFA;MAIA;IACA,CAXA;;IAYAC;EAZA,CAdA,CA8BA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AA/CA","names":["name","components","AdminNav","data","categories","newCategoryName","created","methods","Toast","icon","title","async"],"sourceRoot":"src/views","sources":["AdminCategories.vue"],"sourcesContent":["<template>\r\n  <div class=\"container py-5\">\r\n    <!-- 1. 使用先前寫好的 AdminNav -->\r\n    <AdminNav />\r\n    <form class=\"my-4\">\r\n      <div class=\"form-row\">\r\n        <div class=\"col-auto\">\r\n          <input           \r\n            type=\"text\"\r\n            class=\"form-control\"\r\n            placeholder=\"新增餐廳類別...\"\r\n          >\r\n        </div>\r\n        <div class=\"col-auto\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-primary\"           \r\n          >\r\n            新增\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n    <table class=\"table\">\r\n      <thead class=\"thead-dark\">\r\n        <tr>\r\n          <th scope=\"col\" width=\"60\">#</th>\r\n          <th scope=\"col\">Category Name</th>\r\n          <th scope=\"col\" width=\"210\">Action</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"category in categories\" :key=\"category.id\">\r\n          <th scope=\"row\">\r\n            {{ category.id }}\r\n          </th>\r\n          <td class=\"position-relative\">\r\n            <div class=\"category-name\">\r\n              {{ category.name }}\r\n            </div>\r\n          </td>\r\n          <td class=\"d-flex justify-content-between\">\r\n            <button type=\"button\" class=\"btn btn-link mr-2\">Edit</button>\r\n            <button\r\n              @click.stop.prevent=\"deleteCategory(category.id)\"\r\n              type=\"button\"\r\n              class=\"btn btn-link mr-2\"\r\n            >\r\n              Delete\r\n            </button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AdminNav from \"@/components/AdminNav\";\r\nimport adminAPI from './../apis/admin'\r\nimport {Toast} from './../utils/helpers'\r\n\r\nexport default {\r\n  name: \"AdminCategories\",\r\n  components: {\r\n    AdminNav,\r\n  },  \r\n  data() {\r\n    return {\r\n      categories: [],\r\n      newCategoryName: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchCategories();\r\n  },\r\n  methods:{\r\n    async fetchCategories() {\r\n    try {\r\n      const {data} = await adminAPI.Categories.get();\r\n      this.categories = data.categories\r\n    } catch (error) {\r\n      Toast.fire({\r\n        icon: \"error\",\r\n        title: \"無法取得人氣餐廳資料，請稍後再試\",\r\n      });\r\n      }\r\n    },\r\n    async \r\n\r\n  }\r\n  \r\n  // methods: {\r\n  //   // 4. 定義 `fetchCategories` 方法，把 `dummyData` 帶入 Vue 物件\r\n  //   fetchCategories() {\r\n  //     this.categories = dummyData.categories;\r\n  //   },\r\n  //   creatCategory() {\r\n  //     this.categories.push({\r\n  //       id: uuidv4(),\r\n  //       name: this.newCategoryName,\r\n  //     });\r\n  //     this.newCategoryName = \"\";\r\n  //   },\r\n  //   deleteCategory(categoryId) {\r\n  //     this.categories = this.categories.filter(\r\n  //       (category) => category.id !== categoryId\r\n  //     );\r\n  //   },\r\n  // },\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}