{"ast":null,"code":"import NavTabs from \"../components/NavTabs.vue\";\nimport NewestRestaurants from \"../components/NewestRestaurants.vue\";\nimport NewestComments from \"../components/NewestComments.vue\";\nimport restaurantsAPI from \"./../apis/restaurants\";\nimport { Toast } from \"./../utils/helpers\";\nimport SpinneR from \"../components/SpinneR\";\nexport default {\n  components: {\n    NavTabs,\n    NewestRestaurants,\n    NewestComments,\n    SpinneR\n  },\n\n  data() {\n    return {\n      restaurants: [],\n      comments: [],\n      isLoading: true\n    };\n  },\n\n  created() {\n    this.fetchFeeds();\n  },\n\n  methods: {\n    async fetchFeeds() {\n      try {\n        const response = await restaurantsAPI.getFeeds();\n        const {\n          restaurants,\n          comments\n        } = response;\n        this.restaurants = restaurants, this.comments = comments;\n        this.isLoading = false;\n      } catch (error) {\n        Toast.fire({\n          icon: 'error',\n          title: '無法取得餐廳資料，請稍後再試'\n        });\n      } //   this.restaurants = [...dummyData.restaurants],\n      //   this.comments = [...dummyData.comments]\n\n    } // async fetchFeeds() {\n    //   try {\n    //     const response = await restaurantsAPI.getFeeds();\n    //     const { restaurants, comments } = response.data;\n    //     this.restaurants = restaurants;\n    //     this.comments = comments;\n    //     this.isLoading = false\n    //   } catch (error) {        \n    //     this.isLoading = false\n    //     Toast.fire({\n    //       icon: \"error\",\n    //       title: \"無法取得餐廳資料，請稍後再試\",\n    //     });\n    //   }\n    // },\n\n\n  }\n};","map":{"version":3,"mappings":"AAwBA;AACA;AACA;AACA;AACA;AACA;AAEA;EACAA;IACAC,OADA;IAEAC,iBAFA;IAGAC,cAHA;IAIAC;EAJA,CADA;;EAOAC;IACA;MACAC,eADA;MAEAC,YAFA;MAGAC;IAHA;EAKA,CAbA;;EAcAC;IACA;EACA,CAhBA;;EAiBAC;IACA;MACA;QACA;QAEA;UAAAJ;UAAAC;QAAA;QACA,gCACA,wBADA;QAGA;MAEA,CATA,CASA;QACAI;UACAC,aADA;UAEAC;QAFA;MAKA,CAhBA,CAkBA;MACA;;IACA,CArBA,CAsBA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;;EApCA;AAjBA","names":["components","NavTabs","NewestRestaurants","NewestComments","SpinneR","data","restaurants","comments","isLoading","created","methods","Toast","icon","title"],"sourceRoot":"src/views","sources":["RestaurantsFeeds.vue"],"sourcesContent":["<template>\r\n  <div class=\"container py-5\">\r\n    <NavTabs />\r\n    <SpinneR v-if=\"isLoading\"/>\r\n    <template v-else>\r\n      <h1 class=\"mt-5\">最新動態</h1>\r\n      <hr />\r\n      <div class=\"row\">\r\n        <div class=\"col-md-6\">\r\n          <h3>最新餐廳</h3>\r\n          <!-- 最新餐廳 NewestRestaurants -->\r\n          <NewestRestaurants :restaurants=\"restaurants\" />\r\n        </div>\r\n        <div class=\"col-md-6\">\r\n          <!-- 最新評論 NewestComments-->\r\n          <h3>最新評論</h3>\r\n          <NewestComments :comments=\"comments\" />\r\n        </div>\r\n      </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NavTabs from \"../components/NavTabs.vue\";\r\nimport NewestRestaurants from \"../components/NewestRestaurants.vue\";\r\nimport NewestComments from \"../components/NewestComments.vue\";\r\nimport restaurantsAPI from \"./../apis/restaurants\";\r\nimport { Toast } from \"./../utils/helpers\";\r\nimport SpinneR from \"../components/SpinneR\"\r\n\r\nexport default {\r\n  components: {\r\n    NavTabs,\r\n    NewestRestaurants,\r\n    NewestComments,\r\n    SpinneR,\r\n  },\r\n  data() {\r\n    return {\r\n      restaurants: [],\r\n      comments: [],\r\n      isLoading: true,\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchFeeds();\r\n  },\r\n  methods: {\r\n    async fetchFeeds() {\r\n        try {\r\n            const response = await restaurantsAPI.getFeeds()\r\n            \r\n            const {restaurants, comments} = response\r\n            this.restaurants = restaurants,\r\n            this.comments = comments\r\n\r\n            this.isLoading = false\r\n            \r\n        } catch (error) {\r\n            Toast.fire({\r\n                icon:'error',\r\n                title:'無法取得餐廳資料，請稍後再試'\r\n            })\r\n\r\n        }\r\n\r\n    //   this.restaurants = [...dummyData.restaurants],\r\n    //   this.comments = [...dummyData.comments]\r\n    }\r\n    // async fetchFeeds() {\r\n    //   try {\r\n    //     const response = await restaurantsAPI.getFeeds();\r\n    //     const { restaurants, comments } = response.data;\r\n    //     this.restaurants = restaurants;\r\n    //     this.comments = comments;\r\n    //     this.isLoading = false\r\n    //   } catch (error) {        \r\n    //     this.isLoading = false\r\n    //     Toast.fire({\r\n    //       icon: \"error\",\r\n    //       title: \"無法取得餐廳資料，請稍後再試\",\r\n    //     });\r\n    //   }\r\n    // },\r\n  },\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}