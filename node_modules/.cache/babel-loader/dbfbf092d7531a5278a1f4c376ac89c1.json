{"ast":null,"code":"import NavTabs from \"../components/NavTabs.vue\"; //import RestaurantTopCard from \"../components/RestaurantTopCard.vue\";\n\nimport restaurantsAPI from \"./../apis/restaurants\";\nimport { Toast } from \"./../utils/helpers\";\nexport default {\n  name: \"RestaurantsTop\",\n  components: {\n    NavTabs // RestaurantTopCard,\n\n  },\n\n  data() {\n    return {\n      restaurants: []\n    };\n  },\n\n  created() {\n    this.fetchRestaurantsTop();\n  },\n\n  methods: {\n    async fetchRestaurantsTop() {\n      try {\n        const {\n          data\n        } = await restaurantsAPI.getTopRestaurants();\n        this.restaurants = data.restaurants;\n      } catch (error) {\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法取得人氣餐廳資料，請稍後再試\"\n        });\n      }\n    } // async addFavorite(restaurantId) {\n    //   try {\n    //     const { data } = await usersAPI.addFavorite({ restaurantId });\n    //     if (data.status !== \"success\") {\n    //       throw new Error(data.messege);\n    //     }\n    //     this.restaurants = this.restaurants.map((restaurant) => {\n    //       if (restaurant.id !== restaurantId) {\n    //         return restaurant;\n    //       } else {\n    //         return {\n    //           ...restaurant,\n    //           isFavorited: true,\n    //           FavoriteCount: restaurant.FavoriteCount + 1,\n    //         };\n    //       }\n    //     });\n    //   } catch (error) {\n    //     Toast.fire({\n    //       icon: \"error\",\n    //       title: \"無法將餐廳加入最愛，請稍後再試\",\n    //     });\n    //   }\n    // },\n    // async deleteFavorite(restaurantId) {\n    //   try {\n    //     const { data } = await usersAPI.deleteFavorite({ restaurantId });\n    //     if (data.status !== \"success\") {\n    //       throw new Error(data.messege);\n    //     }\n    //     this.restaurants = this.restaurants.map((restaurant) => {\n    //       if (restaurant.id !== restaurantId) {\n    //         return restaurant;\n    //       } else {\n    //         return {\n    //           ...restaurant,\n    //           isFavorited: false,\n    //           FavoriteCount: restaurant.FavoriteCount - 1,\n    //         };\n    //       }\n    //     });\n    //   } catch (error) {\n    //     Toast.fire({\n    //       icon: \"error\",\n    //       title: \"無法將餐廳取消最愛，請稍後再試\",\n    //     });\n    //   }\n    // },\n\n\n  }\n};","map":{"version":3,"mappings":"AAwDA,gD,CACA;;AACA;AACA;AAEA;EACAA,sBADA;EAEAC;IACAC,OADA,CAEA;;EAFA,CAFA;;EAMAC;IACA;MACAC;IADA;EAGA,CAVA;;EAWAC;IACA;EACA,CAbA;;EAcAC;IACA;MACA;QACA;UAAAH;QAAA;QACA;MACA,CAHA,CAGA;QACAI;UACAC,aADA;UAEAC;QAFA;MAIA;IACA,CAXA,CAYA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;;EA3DA;AAdA","names":["name","components","NavTabs","data","restaurants","created","methods","Toast","icon","title"],"sourceRoot":"src/views","sources":["RestaurantsTop.vue"],"sourcesContent":["<template>\r\n  <div class=\"container py-5\">\r\n    <NavTabs />\r\n    <h1 class=\"mt-5\">\r\n      人氣餐廳\r\n    </h1>\r\n\r\n    <hr>\r\n    <div\r\n      class=\"card mb-3\"\r\n      style=\"max-width: 540px;margin: auto;\"\r\n    >\r\n      <div class=\"row no-gutters\">\r\n        <div class=\"col-md-4\">\r\n          <a href=\"#\">\r\n            <img\r\n              class=\"card-img\"\r\n              src=\"https://loremflickr.com/320/240/food,dessert,restaurant/?random=2\"\r\n            >\r\n          </a>\r\n        </div>\r\n        <div class=\"col-md-8\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">\r\n              Mrs. Mckenzie Johnston\r\n            </h5>\r\n            <span class=\"badge badge-secondary\">收藏數：0</span>\r\n            <p class=\"card-text\">\r\n              Quia pariatur perferendis architecto tenetur omnis\r\n            </p>\r\n            <a\r\n              href=\"#\"\r\n              class=\"btn btn-primary mr-2\"\r\n            >Show</a>\r\n\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-danger mr-2\"\r\n            >\r\n              移除最愛\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-primary\"\r\n            >\r\n              加到最愛\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport NavTabs from \"../components/NavTabs.vue\";\r\n//import RestaurantTopCard from \"../components/RestaurantTopCard.vue\";\r\nimport restaurantsAPI from \"./../apis/restaurants\";\r\nimport { Toast } from \"./../utils/helpers\";\r\n\r\nexport default {\r\n  name: \"RestaurantsTop\",\r\n  components: {\r\n    NavTabs,\r\n    // RestaurantTopCard,\r\n  },\r\n  data() {\r\n    return {\r\n      restaurants: [],\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchRestaurantsTop();\r\n  },\r\n  methods: {\r\n    async fetchRestaurantsTop() {\r\n      try {\r\n        const { data } = await restaurantsAPI.getTopRestaurants();\r\n        this.restaurants = data.restaurants;\r\n      } catch (error) {\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法取得人氣餐廳資料，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n    // async addFavorite(restaurantId) {\r\n    //   try {\r\n    //     const { data } = await usersAPI.addFavorite({ restaurantId });\r\n    //     if (data.status !== \"success\") {\r\n    //       throw new Error(data.messege);\r\n    //     }\r\n    //     this.restaurants = this.restaurants.map((restaurant) => {\r\n    //       if (restaurant.id !== restaurantId) {\r\n    //         return restaurant;\r\n    //       } else {\r\n    //         return {\r\n    //           ...restaurant,\r\n    //           isFavorited: true,\r\n    //           FavoriteCount: restaurant.FavoriteCount + 1,\r\n    //         };\r\n    //       }\r\n    //     });\r\n    //   } catch (error) {\r\n    //     Toast.fire({\r\n    //       icon: \"error\",\r\n    //       title: \"無法將餐廳加入最愛，請稍後再試\",\r\n    //     });\r\n    //   }\r\n    // },\r\n    // async deleteFavorite(restaurantId) {\r\n    //   try {\r\n    //     const { data } = await usersAPI.deleteFavorite({ restaurantId });\r\n    //     if (data.status !== \"success\") {\r\n    //       throw new Error(data.messege);\r\n    //     }\r\n    //     this.restaurants = this.restaurants.map((restaurant) => {\r\n    //       if (restaurant.id !== restaurantId) {\r\n    //         return restaurant;\r\n    //       } else {\r\n    //         return {\r\n    //           ...restaurant,\r\n    //           isFavorited: false,\r\n    //           FavoriteCount: restaurant.FavoriteCount - 1,\r\n    //         };\r\n    //       }\r\n    //     });\r\n    //   } catch (error) {\r\n    //     Toast.fire({\r\n    //       icon: \"error\",\r\n    //       title: \"無法將餐廳取消最愛，請稍後再試\",\r\n    //     });\r\n    //   }\r\n    // },\r\n  },\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}